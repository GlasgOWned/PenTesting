#### Convert the binary into an image
https://www.dcode.fr/binary-image


#### extract the info from the QR Code
https://zxing.org/w/decode


https://github.com/Paradoxis/StegCracker
pip3 install stegcracker



Stegsolver:
https://github.com/zardus/ctf-tools/blob/master/stegsolve/install



Recursively unzip files (replacing with directory):
https://stackoverflow.com/questions/36285502/how-to-extract-zip-file-recursively-in-python
```python
import os
import io
import zipfile
import reroot@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip -l matrioshka3.zip
Archive:  matrioshka3.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
    11922  2018-07-09 17:38   5-0.zip
    11922  2018-07-09 17:38   5-1.zip
    11922  2018-07-09 17:38   5-2.zip
    11922  2018-07-09 17:38   5-3.zip
   207973  2018-07-09 17:43   5-4.zip
    11922  2018-07-09 17:38   5-5.zip
    11922  2018-07-09 17:38   5-6.zip
    11922  2018-07-09 17:38   5-7.zip
    11922  2018-07-09 17:38   5-8.zip
    11922  2018-07-09 17:38   5-9.zip
---------                     -------
   315271                     10 files
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip matrioshka3.zip 5-4.zip
Archive:  matrioshka3.zip
  inflating: 5-4.zip                 
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# ls
5-4.zip  matrioshka3.zip
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip -l 5-4.zip
Archive:  5-4.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
     9432  2018-07-09 17:38   4-0.zip
     9432  2018-07-09 17:38   4-1.zip
     9432  2018-07-09 17:38   4-2.zip
     9432  2018-07-09 17:38   4-3.zip
   203643  2018-07-09 17:43   4-4.zip
     9432  2018-07-09 17:38   4-5.zip
     9432  2018-07-09 17:38   4-6.zip
     9432  2018-07-09 17:38   4-7.zip
     9432  2018-07-09 17:38   4-8.zip
     9432  2018-07-09 17:38   4-9.zip
---------                     -------
   288531                     10 files
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip 5-4.zip 4-4.zip
Archive:  5-4.zip
  inflating: 4-4.zip                 
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip 4-4.zip 3-4.zip
Archive:  4-4.zip
  inflating: 3-4.zip                 
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip -l 3-4.zip
Archive:  3-4.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
    13712  2018-07-09 17:38   2-0.zip
    13712  2018-07-09 17:38   2-1.zip
    13712  2018-07-09 17:38   2-2.zip
    13712  2018-07-09 17:38   2-3.zip
   212838  2018-07-09 17:42   2-4.zip
    13712  2018-07-09 17:38   2-5.zip
    13712  2018-07-09 17:38   2-6.zip
    13712  2018-07-09 17:38   2-7.zip
    13712  2018-07-09 17:38   2-8.zip
    13712  2018-07-09 17:38   2-9.zip
---------                     -------
   336246                     10 files
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip 3-4.zip 2-4.zip
Archive:  3-4.zip
  inflating: 2-4.zip                 
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip 2-4.zip 1-4.zip
Archive:  2-4.zip
  inflating: 1-4.zip                 
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# ls
1-4.zip  2-4.zip  3-4.zip  4-4.zip  5-4.zip  matrioshka3.zip
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip -l 1.4.zip
unzip:  cannot find or open 1.4.zip, 1.4.zip.zip or 1.4.zip.ZIP.
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# ls
1-4.zip  2-4.zip  3-4.zip  4-4.zip  5-4.zip  matrioshka3.zip
root@kali:~/Documents/htb/challenges/matrioshka/working/_matrioshka1.png.extracted/tmp# unzip -l 1-4.zip
Archive:  1-4.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
4500316360  2018-07-09 10:10   matrioshka4
---------                     -------
4500316360                     1 file


def unzip_directory(directory):
    """" This function unzips (and then deletes) all zip files in a directory """
    for root, dirs, files in os.walk(directory):
        for filename in files:
            if re.search(r'\.zip$', filename):
                to_path = os.path.join(root, filename.split('.zip')[0])
                zipped_file = os.path.join(root, filename)
                if not os.path.exists(to_path):
                    os.makedirs(to_path)
                    with zipfile.ZipFile(zipped_file, 'r') as zfile:
                        zfile.extractall(path=to_path)
                    # deletes zip file
                    os.remove(zipped_file)

def exists_zip(directory):
    """ This function returns T/F whether any .zip file exists within the directory, recursively """
    is_zip = False
    for root, dirs, files in os.walk(directory):
        for filename in files:
            if re.search(r'\.zip$', filename):
                is_zip = True
    return is_zip

def unzip_directory_recursively(directory, max_iter=1000):
    print("Does the directory path exist? ", os.path.exists(directory))
    """ Calls unzip_directory until all contained zip files (and new ones from previous calls)
    are unzipped
    """
    iterate = 0
    while exists_zip(directory) and iterate < max_iter:
        unzip_directory(directory)
        iterate += 1
    pre = "Did not " if iterate < max_iter else "Did"
    print(pre, "time out based on max_iter limit of", max_iter, ". Took iterations:", iterate)
```
